# 应用全局配置

# 环境配置
environment:
  python_version: "3.8"  # Python版本要求
  tesseract_path: "/usr/local/bin/tesseract"  # Tesseract OCR路径
  temp_dir: "/Users/mac/ai/temp"  # 临时文件目录
  data_dir: "/Users/mac/cursor/GameTheoryAI/data"  # 数据根目录
  log_dir: "/Users/mac/cursor/GameTheoryAI/data/logs"  # 日志根目录

# 目录结构配置
directories:
  data:
    root: "/Users/mac/cursor/GameTheoryAI/data"  # 数据根目录
    tententimg: "/Users/mac/cursor/GameTheoryAI/data/tententimg"  # 数据根目录
    database: "/Users/mac/cursor/GameTheoryAI/data/database"  # 数据库目录
    cache: "/Users/mac/cursor/GameTheoryAI/data/cache"  # 缓存目录

# ADB配置
adb:
  path: /Applications/MuMuPlayer.app/Contents/MacOS/MuMuEmulator.app/Contents/MacOS/tools/adb
  screenshot:
    local_temp_dir: "/Users/mac/ai/temp/screenshots"
    remote_path: /sdcard/screenshot.png
    date_format: '%Y%m%d'
    interval: 1
    multi_intervals: [1, 3, 5]  # 多间隔截图任务的间隔时间列表（秒）
    clear_target_dir: True  # 每次任务执行前是否清空目标文件夹

# OCR配置
ocr:
  preprocessing:
    blur_kernel: [3, 3]
    threshold_min: 200
    threshold_max: 255
    canny_min: 30
    canny_max: 120
    dilate_kernel: [2, 2]
    dilate_iterations: 1
    debug_output: true
  detection:
    min_area: 3000
    max_area: 50000
    aspect_ratio_min: 0.6
    aspect_ratio_max: 1.5
    min_width: 30
    max_width: 300
    y_threshold: 150
    expected_elements: 13
    element_gap: 5
    merge_threshold: 20
    max_retries: 3
    threshold_reduction: 0.8
  recognition:
    text_area_ratio: 0.4
    text_threshold: 150
    red_threshold: 0.02
    green_threshold: 0.02
    circle_threshold: 0.7
    debug_features: true

# 游戏配置
game:
  name: "麻将"  # 游戏名称
  version: "1.0.0"  # 游戏版本
  regions:
    hand_tiles: [100, 200, 300, 400]  # 手牌区域坐标 [x1, y1, x2, y2]
    discarded_tiles: [500, 200, 600, 400]  # 弃牌区域坐标 [x1, y1, x2, y2]
    score: [700, 100, 800, 150]  # 分数区域坐标 [x1, y1, x2, y2]
  tile_types:
    - "万"
    - "筒"
    - "条"
    - "风"
    - "箭"

# 日志配置
logging:
  level: INFO
  format: '%(asctime)s - %(name)s - %(levelname)s - %(message)s'
  file:
    enabled: true
    dir: data/logs
    name_format: '{name}_%Y%m%d.log'

# 界面配置
ui:
  window:
    title: "麻将AI助手"  # 窗口标题
    width: 800  # 窗口宽度
    height: 600  # 窗口高度
  theme:
    primary_color: "#4CAF50"  # 主题主色
    secondary_color: "#8BC34A"  # 主题次色
    background_color: "#F5F5F5"  # 背景色
    text_color: "#333333"  # 文字颜色
  font:
    family: "Microsoft YaHei"  # 字体
    size: 12  # 字体大小

# 性能配置
performance:
  max_threads: 4  # 最大线程数
  queue_size: 100  # 队列大小
  batch_size: 10  # 批处理大小
  cache_size: 1000  # 缓存大小
  timeout: 30  # 超时时间（秒）

# 数据存储配置
storage:
  database:
    type: "sqlite"  # 数据库类型
    path: "/Users/mac/cursor/GameTheoryAI/data/database/game.db"  # 数据库路径
  screenshots:
    enabled: true  # 是否保存截图
    max_count: 1000  # 最大保存数量
    compression: true  # 是否压缩
    compression_quality: 80  # 压缩质量
  results:
    enabled: true  # 是否保存结果
    format: "json"  # 结果格式
    path: "/Users/mac/cursor/GameTheoryAI/data/results"  # 结果保存路径